(function(){var d=KISSY,b=d.DOM,e=d.Event;SecondHand.changeNew={selling_tab:function(){if(b.get("#J_SellingTab"))(new d.Switchable("#J_SellingTab",{markupType:2,triggers:b.query("#J_Trigger li"),panels:b.query("#J_SellingTab .entity"),activeTriggerCls:"selected",delay:0.2,effect:"fade",duration:0.5,lazyDataType:"textarea"})).on("switch",function(a){(a=b.get("textarea",a.target.panels[a.currentIndex]))&&b.remove(a)})},news:function(a){new d.Carousel(a,{effect:"scrollx",easing:"easeOutStrong",contentCls:"news-item",
circular:!0,autoplay:!0,hasTriggers:!1,switchTo:0})},discount:function(a){0!=b.query("li",a).length&&(new d.Slide(a,{contentCls:"item-list",navCls:"thumb-list",activeTriggerCls:"selected",effect:"scrollx",easing:"easeOutStrong",circular:!0,switchTo:0}),new d.Carousel(a,{effect:"scrollx",easing:"easeOutStrong",contentCls:"thumb-list",circular:!1,steps:4,disableBtnCls:"disable",prevBtnCls:"prev",nextBtnCls:"next",hasTriggers:!1}))},checkLogin:function(){var a=this;e.on("#J_Login","click",function(c){c.halt();
c=b.attr(this,"login-url");a.showLogin(c)})},showLogin:function(a){d.use("overlay",function(){var c=new d.Dialog({elCls:"login-popup",bodyContent:'<iframe scrolling="no" width="345" height="250" frameborder="0" src="'+a+"&redirectURL="+encodeURIComponent(window.location.href)+'"></iframe>',mask:!1});c.render();c.center();c.show();this.showLogin=function(){c.show()}})},showList:function(){var a=b.get("#J_DiscountRank");e.on(a,"mouseenter",function(){b.addClass(this,"hover")});e.on(a,"mouseleave",function(){b.removeClass(this,
"hover")})},showBtn:function(){var a=b.get("#J_Region");e.delegate(a,"mouseenter mouseleave","li",function(a){"mouseenter"===a.type&&b.addClass(a.currentTarget,"hover");"mouseleave"===a.type&&b.removeClass(a.currentTarget,"hover")})},init:function(){var a=b.get("#J_News"),c=b.get("#J_Slider");this.selling_tab();c&&this.discount(c);a&&this.news(a);this.checkLogin();this.showList();this.showBtn()}};d.ready(function(a){a.use("switchable, datalazyload",function(){SecondHand.changeNew.init()})})})();